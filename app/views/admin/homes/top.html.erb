<div class="col-md-8 mx-auto">
  <h5 class="my-3 ml-3">注文履歴一覧</h5>
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th scope="col">購入日時</th>
        <th scope="col">購入者</th>
        <th scope="col">注文個数</th>
        <th scope="col">注文ステータス</th>
      </tr>
    </thead>
    <tbody>
      <% @orders.each do |order| %>
      <tr>
        <th scope="row">
          <%= link_to order.created_at.strftime("%Y-%m-%d"), admin_order_path(order.id) %>
        </th>
        <td><%= order.customer.last_name %>&ensp;<%= order.customer.first_name %></td>
        <td>
          <% total = 0 %>
          <% order.order_details.each do |order_detail| %>
            <% if order_detail.order_id == order.id %>
              <% total += order_detail.amount %>
            <% end %>
          <% end %>
          <%= total %>
        </td>
        <td><%= order.status %></td>
        <%# enumステータスの記述があるプルリクをマージしたら修正 %>
      </tr>
      <% end %>
    </tbody>
  </table>

  <div class = "d-flex justify-content-center">
    <%= paginate @orders %>
    <%# <%= paginate @orders, theme: 'bootstrap-5' %> 
    <%# ページネーションのスタイルがうまく機能しない問題あり %>
  </div>
</div>